---
name: session-doc
description: AI와 작업중이던 내용을 요약해 세션 문서를 생성합니다. 문제, 시도, 결과, 출처를 정리합니다.
user-invocable: true
allowed-tools: Read, Glob, Grep, Write, Edit, Bash, WebSearch
---

# 즉시 실행: 현재 세션 → 문서화

## 지금 바로 수행할 것:

### 1. 인자 확인

- 인자가 있으면 **문서 제목**으로 사용
- 인자 없으면 대화 내용에서 핵심 주제를 추출해 제목 자동 생성

### 2. 대화 컨텍스트 분석

현재까지의 대화 내용을 아래 관점으로 분석한다:

| 추출 항목 | 찾아야 할 것 |
|-----------|-------------|
| **해결하려는 문제** | 사용자가 처음 요청한 것, 달성하려는 목표 |
| **시도한 접근** | 실행한 명령, 수정한 코드, 적용한 방법론 |
| **각 시도의 결과** | 성공/실패 여부, 에러 메시지, 발견한 사실 |
| **참고 출처** | 검색한 URL, 참고한 문서, 읽은 파일 경로 |
| **현재 상태** | 해결됨/진행중/막힘 중 어디인지 |
| **다음 단계** | 아직 해야 할 일, 열린 질문 |

### 3. 문서 작성

아래 템플릿으로 마크다운 문서를 생성한다:

```markdown
# [제목]

> 생성일: YYYY-MM-DD
> 상태: 해결됨 | 진행중 | 막힘

## 문제 정의

[해결하려는 문제를 명확하게 기술한다. 배경과 맥락을 포함한다.]

## 시도 및 결과

### 시도 1: [접근 방법 요약]

**무엇을 했는가:**
[구체적인 행동 - 실행한 명령, 변경한 코드 등]

**결과:**
[성공/실패 및 구체적 결과. 에러가 있었다면 에러 내용 포함]

**배운 점:**
[이 시도에서 알게 된 것]

### 시도 N: ...

(시도한 만큼 반복)

## 현재 상태

[지금 어디까지 왔는지. 해결되었다면 최종 해결책 요약.]

## 다음 단계

- [ ] [아직 해야 할 일이 있다면 나열]
- [ ] [열린 질문이 있다면 나열]

(해결 완료된 경우 이 섹션은 "없음"으로 표기)

## 참고 출처

- [출처 제목 또는 설명](URL) - 어떤 맥락에서 참고했는지
- `파일경로` - 어떤 내용을 확인했는지

(출처가 없으면 이 섹션은 "없음"으로 표기)
```

### 4. 파일 저장

- 저장 경로: `doc/sessions/[제목-kebab-case]-YYYYMMDD.md`
- `doc/sessions/` 디렉토리가 없으면 생성
- 제목에서 kebab-case 변환 시 한글은 그대로 유지, 공백과 특수문자만 `-`로 변환

### 5. 완료 안내

```
세션 문서 생성 완료: doc/sessions/[파일명]
```

## 작성 원칙

- **사실 기반**: 대화에서 실제로 발생한 내용만 기록한다. 추측하지 않는다.
- **구체적**: "코드를 수정했다" 대신 "auth.ts의 validateToken 함수에서 만료 시간 검증 로직을 추가했다"
- **재현 가능**: 다른 사람(또는 미래의 나)이 읽고 맥락을 이해할 수 있도록 작성한다.
- **간결함**: 핵심만 담는다. 대화 전체를 복사하는 것이 아니라 요약한다.
